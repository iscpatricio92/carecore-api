# CareCore Monorepo - Production Environment Variables
# Copy this file to .env.production
# ⚠️ IMPORTANT: Fill all empty values with secure production values!
# Use .env.local for sensitive values that should not be in the repository

# ============================================================================
# SHARED CONFIGURATION (Used by all packages)
# ============================================================================

# Application
NODE_ENV=production
APP_NAME=CareCore

# Database (Shared by API and Keycloak)
# ⚠️ SECURITY: Use secure production database credentials!
DB_TYPE=postgres
DB_HOST=
DB_PORT=5432
DB_INTERNAL_PORT=5432
DB_INTERNAL_HOST=postgres
DB_USER=
DB_PASSWORD=
DB_NAME=
DB_SYNCHRONIZE=false

# Keycloak Configuration (Shared)
# ⚠️ SECURITY: Fill with secure production values!
KEYCLOAK_ADMIN=
KEYCLOAK_ADMIN_PASSWORD=
KEYCLOAK_URL=https://keycloak.yourdomain.com
KEYCLOAK_REALM=carecore
KEYCLOAK_PORT=8080
KEYCLOAK_DB_TYPE=postgres
KEYCLOAK_DB_HOST=postgres
KEYCLOAK_DB_NAME=keycloak_db
KEYCLOAK_DB_PORT=5432
KEYCLOAK_HTTP_PORT=8080
KEYCLOAK_HTTP_ENABLED=false

# Keycloak Clients (Shared)
KEYCLOAK_CLIENT_ID=carecore-api
KEYCLOAK_CLIENT_SECRET=
KEYCLOAK_ADMIN_CLIENT_ID=carecore-admin
KEYCLOAK_ADMIN_CLIENT_SECRET=
KEYCLOAK_WEB_CLIENT_ID=carecore-web

# ============================================================================
# API (Backend) - packages/api
# ============================================================================

# API Server
API_PORT=3000
API_INTERNAL_PORT=3000
API_URL=https://api.yourdomain.com/api

# JWT
# ⚠️ SECURITY: Generate a strong random secret (minimum 32 characters)
JWT_SECRET=
JWT_EXPIRATION=24h

# FHIR
FHIR_VERSION=R4
FHIR_BASE_URL=https://api.yourdomain.com/api/fhir

# Security
BCRYPT_ROUNDS=12
ENCRYPTION_KEY=

# CORS
# ⚠️ SECURITY: Use specific origins in production, never use '*'
CORS_ORIGIN=https://app.yourdomain.com

# Rate Limiting
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# Document Storage (FHIR DocumentReference attachments)
DOCUMENTS_STORAGE_PATH=.tmp/storage/documents

# Practitioner Verification Documents Storage
VERIFICATION_DOCUMENTS_PATH=.tmp/storage/verifications
MAX_DOCUMENT_SIZE=10485760

# Migrations
RUN_MIGRATIONS_ON_STARTUP=false

# ============================================================================
# WEB (Frontend) - packages/web
# ============================================================================

# Web Server
WEB_PORT=3001
WEB_URL=https://app.yourdomain.com

# Next.js Public Variables (exposed to browser)
# Note: NEXT_PUBLIC_* prefix is required by Next.js
NEXT_PUBLIC_API_URL=https://api.yourdomain.com/api
NEXT_PUBLIC_KEYCLOAK_URL=https://keycloak.yourdomain.com
NEXT_PUBLIC_KEYCLOAK_REALM=carecore
NEXT_PUBLIC_KEYCLOAK_WEB_CLIENT_ID=carecore-web
NEXT_PUBLIC_APP_NAME=CareCore

# Next.js Build Variables (server-side only, no NEXT_PUBLIC_ prefix)
NEXT_SERVER_API_URL=https://api.yourdomain.com/api

# Optional: Analytics, Monitoring, etc.
# NEXT_PUBLIC_ANALYTICS_ID=
# NEXT_PUBLIC_SENTRY_DSN=

# ============================================================================
# MOBILE (React Native/Expo) - packages/mobile
# ============================================================================

# Mobile App Configuration
MOBILE_APP_NAME=CareCore
MOBILE_APP_VERSION=1.0.0

# Expo Public Variables (exposed to app)
# Note: EXPO_PUBLIC_* prefix is required by Expo
EXPO_PUBLIC_API_URL=https://api.yourdomain.com/api
EXPO_PUBLIC_KEYCLOAK_URL=https://keycloak.yourdomain.com
EXPO_PUBLIC_KEYCLOAK_REALM=carecore
EXPO_PUBLIC_KEYCLOAK_WEB_CLIENT_ID=carecore-web
EXPO_PUBLIC_APP_NAME=CareCore

# React Native Config (if using react-native-config)
MOBILE_API_URL=https://api.yourdomain.com/api
MOBILE_KEYCLOAK_URL=https://keycloak.yourdomain.com

# Optional: Analytics, Push Notifications, etc.
# EXPO_PUBLIC_ANALYTICS_ID=
# EXPO_PUBLIC_ONESIGNAL_APP_ID=

# ============================================================================
# OPTIONAL TOOLS
# ============================================================================

# PgAdmin (Optional - disable in production if not needed)
PGADMIN_EMAIL=
PGADMIN_PASSWORD=
PGADMIN_PORT=

# Frontend URL (for OAuth redirects - legacy, use WEB_URL or MOBILE_* instead)
FRONTEND_URL=https://app.yourdomain.com
