# CareCore Monorepo - Local Environment Variables Override
# Copy this file to .env.local
# This file overrides values from .env.development or .env.production
# ⚠️ NEVER commit this file to the repository!

# ============================================================================
# SHARED CONFIGURATION OVERRIDES
# ============================================================================

# Application
NODE_ENV=development

# Database (Override with your local values)
DB_TYPE=postgres
DB_HOST=localhost
DB_PORT=5432
DB_INTERNAL_PORT=5432
DB_INTERNAL_HOST=postgres
DB_USER=carecore
DB_PASSWORD=carecore_dev_password
DB_NAME=carecore_db
DB_SYNCHRONIZE=true

# Keycloak Configuration (Override with your local values)
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_REALM=carecore
KEYCLOAK_PORT=8080
KEYCLOAK_DB_TYPE=postgres
KEYCLOAK_DB_HOST=postgres
KEYCLOAK_DB_NAME=keycloak_db
KEYCLOAK_DB_PORT=5432
KEYCLOAK_HTTP_PORT=8080
KEYCLOAK_HTTP_ENABLED=true

# Keycloak Clients (Override with your local secrets)
KEYCLOAK_CLIENT_ID=carecore-api
KEYCLOAK_CLIENT_SECRET=
KEYCLOAK_ADMIN_CLIENT_ID=carecore-admin
KEYCLOAK_ADMIN_CLIENT_SECRET=
KEYCLOAK_WEB_CLIENT_ID=carecore-web

# ============================================================================
# API (Backend) OVERRIDES
# ============================================================================

# API Server
API_PORT=3000
API_INTERNAL_PORT=3000
API_URL=http://localhost:3000/api

# FHIR
FHIR_VERSION=R4
FHIR_BASE_URL=http://localhost:3000/api/fhir

# Security
BCRYPT_ROUNDS=10
ENCRYPTION_KEY=

# JWT
JWT_SECRET=

# Migrations
RUN_MIGRATIONS_ON_STARTUP=false

# ============================================================================
# WEB (Frontend) OVERRIDES
# ============================================================================

# Web Server
WEB_PORT=3001
WEB_URL=http://localhost:3001

# Next.js Public Variables
NEXT_PUBLIC_API_URL=http://localhost:3000/api
NEXT_PUBLIC_KEYCLOAK_URL=http://localhost:8080
NEXT_PUBLIC_KEYCLOAK_REALM=carecore
NEXT_PUBLIC_KEYCLOAK_WEB_CLIENT_ID=carecore-web
NEXT_PUBLIC_APP_NAME=CareCore

# Next.js Server Variables
NEXT_SERVER_API_URL=http://localhost:3000/api

# ============================================================================
# ============================================================================
# MOBILE (React Native/Expo) - packages/mobile
# ============================================================================

# Mobile App Configuration
MOBILE_APP_NAME=CareCore
MOBILE_APP_VERSION=1.0.0

# Expo Public Variables (exposed to app)
# Note: EXPO_PUBLIC_* prefix is required by Expo
# IMPORTANT: Base URLs should NOT include /api suffix (AppConfig adds it automatically)
# For physical devices, use your machine's local IP instead of localhost
EXPO_PUBLIC_API_URL=http://localhost:3000
EXPO_PUBLIC_KEYCLOAK_URL=http://localhost:8080
EXPO_PUBLIC_KEYCLOAK_REALM=carecore
EXPO_PUBLIC_KEYCLOAK_CLIENT_ID=carecore-mobile
EXPO_PUBLIC_APP_NAME=CareCore
EXPO_PUBLIC_REDIRECT_URI=carecore://auth

# React Native Config (if using react-native-config)
# These are available in native code and JS
# IMPORTANT: Base URLs should NOT include /api suffix (AppConfig adds it automatically)
# For physical devices, use your machine's local IP instead of localhost
# Example: MOBILE_API_URL=http://192.168.1.100:3000
MOBILE_API_URL=http://localhost:3000
MOBILE_KEYCLOAK_URL=http://localhost:8080
MOBILE_KEYCLOAK_CLIENT_ID=carecore-mobile
MOBILE_REDIRECT_URI=carecore://auth

# Optional: Analytics, Push Notifications, etc.
# EXPO_PUBLIC_ANALYTICS_ID=
# EXPO_PUBLIC_ONESIGNAL_APP_ID=

# ============================================================================

# Mobile App Configuration

# Expo Public Variables
EXPO_PUBLIC_KEYCLOAK_WEB_CLIENT_ID=carecore-web

# React Native Config

# ============================================================================
# ADDITIONAL LOCAL OVERRIDES
# ============================================================================

# Add any other local-specific overrides here
# Document Storage (FHIR DocumentReference attachments)
DOCUMENTS_STORAGE_PATH=.tmp/storage/documents

# Practitioner Verification Documents Storage
VERIFICATION_DOCUMENTS_PATH=.tmp/storage/verifications
MAX_DOCUMENT_SIZE=10485760

# Frontend URL (for OAuth redirects - legacy)
FRONTEND_URL=http://localhost:3000
